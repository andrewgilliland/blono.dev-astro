---
import Badge from "./Badge.astro";

interface Props {
  startTime: string;
  endTime: string;
}

const { startTime, endTime } = Astro.props;

const dateObj = new Date(startTime);
const month = dateObj.toLocaleString("default", { month: "short" });
const day = dateObj.getDate();
const dayOfWeek = dateObj.toLocaleString("default", { weekday: "short" });

const formatTimeString = (dateTime: string) => {
  const date = new Date(dateTime);
  return date.toLocaleTimeString([], {
    hour: "2-digit",
    minute: "2-digit",
    timeZone: "America/Chicago",
  });
};
---

<Badge theme="purple">
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    fill="currentColor"
    class="mr-1 inline-block h-4 w-4"
  >
    <path
      fill-rule="evenodd"
      d="M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z"
      clip-rule="evenodd"></path>
  </svg>
  <p>
    {dayOfWeek}, {month}
    {day} Â· {formatTimeString(startTime)} - {formatTimeString(endTime)} CST
  </p>
</Badge>
