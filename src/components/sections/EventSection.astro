---
import Circle from "@/components/icons/Circle.astro";
import EventCard from "./EventCard.astro";
import { SECTION_TOP_PADDING_OFFSET } from "@/lib/constants";
import { getUpcomingEvents, getPastEvents } from "@/lib/events";

const upcomingEvents = getUpcomingEvents();
const pastEvents = getPastEvents();
---

<section
  id="events"
  style={`padding-top: ${SECTION_TOP_PADDING_OFFSET}px`}
  class="mx-auto mt-24 max-w-5xl"
>
  <div>
    <div class="relative">
      <div>
        <Circle
          size={250}
          class="absolute -translate-x-24 -translate-y-24 fill-purp-dark opacity-20"
        />
        <Circle
          size={100}
          class="absolute translate-x-40 translate-y-12 fill-purp-dark opacity-20"
        />
        <Circle
          size={100}
          class="absolute hidden -translate-y-12 translate-x-64 fill-purp-dark opacity-20 md:block"
        />
      </div>
      <h2 class="text-heading-secondary relative mb-12">Upcoming Events</h2>
    </div>
    <div class="grid gap-6">
      {upcomingEvents.map((event) => <EventCard event={event} />)}
    </div>
  </div>
  <div class="mt-20">
    <h2 class="text-heading-secondary mb-12">Past Events</h2>
    <div class="grid gap-6">
      {pastEvents.map((event) => <EventCard event={event} />)}
    </div>

    <div class="relative flex justify-center">
      <Circle
        size={125}
        class="absolute hidden -translate-y-12 translate-x-64 fill-purp-dark opacity-20 md:block"
      />
      <Circle
        size={200}
        class="absolute translate-x-12 translate-y-8 fill-purp-dark opacity-20"
      />
      <Circle
        size={150}
        class="absolute -translate-x-24 -translate-y-24 fill-purp-dark opacity-20"
      />
    </div>
  </div>
</section>
